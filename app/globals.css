@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 245 247 255;
    --foreground: 17 24 39;
    --card: 255 255 255;
    --card-foreground: 16 23 42;
    --muted: 236 239 247;
    --muted-foreground: 107 114 128;
    --border: 223 227 236;
    --input: 214 219 234;
    --ring: 99 102 241;
    --primary: 59 130 246;
    --primary-foreground: 255 255 255;
    --accent: 99 102 241;
    --accent-foreground: 255 255 255;
    --success: 74 222 128;
    --warning: 251 191 36;
    --danger: 248 113 113;
    --chart-1: 93 95 229;
    --chart-2: 255 211 105;
    --chart-3: 45 212 191;
    --chart-4: 248 113 166;
    --chart-5: 14 165 233;

    /* Backwards compat */
    --bg: var(--background);
    --card-1: rgba(255, 255, 255, 0.85);
    --panel: var(--card);
    --text: var(--foreground);
    --text-muted: var(--muted-foreground);
    --surface: var(--card);
    --accent-foreground: var(--primary-foreground);
    --radius: 16px;
  }

  :root.dark {
    --background: 8 10 18;
    --foreground: 229 231 235;
    --card: 20 24 36;
    --card-foreground: 236 237 244;
    --muted: 24 32 45;
    --muted-foreground: 147 156 178;
    --border: 42 48 64;
    --input: 36 42 58;
    --ring: 129 140 248;
    --primary: 99 102 241;
    --primary-foreground: 255 255 255;
    --accent: 79 70 229;
    --accent-foreground: 255 255 255;
    --success: 34 197 94;
    --warning: 234 179 8;
    --danger: 248 113 113;
    --chart-1: 130 140 255;
    --chart-2: 255 186 91;
    --chart-3: 45 212 191;
    --chart-4: 248 113 166;
    --chart-5: 59 130 246;

    --bg: var(--background);
    --panel: var(--card);
    --text: var(--foreground);
    --text-muted: var(--muted-foreground);
  }

  * {
    border-color: rgb(var(--border));
  }
}

html,
body {
  @apply h-full;
}

body {
  @apply bg-background text-foreground antialiased;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

.ai-prose h4 {
  @apply text-[15px] font-semibold leading-6;
}

.ai-prose p,
.ai-prose li {
  @apply leading-6;
}

.ai-prose ul {
  @apply list-disc space-y-1.5 pl-5;
}

.ai-prose ol {
  @apply list-decimal space-y-1.5 pl-5;
}

@keyframes ai-fade-rise {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.ai-fade-rise {
  animation: ai-fade-rise 0.35s ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .ai-fade-rise {
    animation: none;
  }

  .animate-pulse-check {
    animation: none;
  }
}

@keyframes pulse-check {
  0% {
    transform: scale(0.4);
    opacity: 0;
  }
  60% {
    transform: scale(1.2);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-pulse-check {
  animation: pulse-check 0.4s ease-out;
}

/* Nice card + focus defaults */
.card {
  @apply rounded-2xl border border-border bg-card text-card-foreground shadow-soft;
}

@layer components {
  .bento-card {
    border-radius: 1.5rem;
    border: 1px solid rgba(var(--border), 0.6);
    background: rgba(var(--panel), 0.96);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
    color: rgb(var(--text));
    backdrop-filter: blur(20px);
  }

  :root.dark .bento-card {
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(var(--panel), 0.92);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.35);
  }

  .bento-card--glow {
    box-shadow:
      0 20px 60px rgba(93, 95, 229, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }
}

.input {
  @apply w-full rounded-xl border border-input bg-card px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-ring;
}

.btn {
  @apply inline-flex items-center gap-2 rounded-xl border border-transparent px-4 py-2 font-semibold shadow-soft transition focus-ring;
}

.btn-primary {
  @apply bg-primary text-primary-foreground hover:bg-primary/90;
}

.btn-ghost {
  @apply bg-transparent border-border hover:bg-card;
}

.badge {
  @apply inline-flex items-center rounded-full border border-border px-2.5 py-1 text-xs text-muted-foreground;
}

@layer utilities {
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }
}
